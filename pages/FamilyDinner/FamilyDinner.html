<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Weather Dinner</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            font-family: 'Arial', sans-serif;
        }

        .scene {
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #8B7355 0%, #D2B48C 50%, #A0826D 100%);
            position: relative;
            overflow: hidden;
        }

        /* Room elements */
        .chandelier {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 80px;
        }

        .light-bulb {
            position: absolute;
            width: 30px;
            height: 40px;
            background: linear-gradient(180deg, #FFF9E6 0%, #FFECB3 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            box-shadow: 0 0 30px rgba(255, 248, 220, 0.8);
            animation: flicker 3s ease-in-out infinite;
        }

        .light-bulb:nth-child(1) { left: 20px; top: 10px; }
        .light-bulb:nth-child(2) { left: 85px; top: 0; }
        .light-bulb:nth-child(3) { left: 150px; top: 10px; }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.95; }
        }

        .window {
            position: absolute;
            top: 80px;
            right: 15%;
            width: 200px;
            height: 250px;
            background: linear-gradient(180deg, #FFE5B4 0%, #FFA500 100%);
            border-radius: 10px;
            border: 8px solid #5D4E37;
            box-shadow: inset 0 0 50px rgba(255, 215, 0, 0.3);
        }

        /* Hologram */
        .hologram-container {
            position: absolute;
            top: 18%;
            right: 18%;
            width: 280px;
            height: 320px;
            perspective: 1000px;
            z-index: 10;
        }

        .hologram-screen {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 200, 255, 0.15) 0%, rgba(0, 150, 255, 0.25) 100%);
            border: 3px solid #00D9FF;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 0 40px rgba(0, 217, 255, 0.6), inset 0 0 40px rgba(0, 217, 255, 0.2);
            animation: hologramPulse 2s ease-in-out infinite;
            overflow: hidden;
        }

        @keyframes hologramPulse {
            0%, 100% { box-shadow: 0 0 40px rgba(0, 217, 255, 0.6), inset 0 0 40px rgba(0, 217, 255, 0.2); }
            50% { box-shadow: 0 0 60px rgba(0, 217, 255, 0.8), inset 0 0 60px rgba(0, 217, 255, 0.3); }
        }

        .hologram-lines {
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 217, 255, 0.1) 0px,
                transparent 2px,
                transparent 4px
            );
            animation: scanLines 3s linear infinite;
        }

        @keyframes scanLines {
            0% { transform: translateY(0); }
            100% { transform: translateY(20px); }
        }

        .astronaut {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 180px;
            height: 240px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }

        .helmet {
            position: absolute;
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, rgba(200, 230, 255, 0.8) 0%, rgba(150, 200, 255, 0.6) 100%);
            border-radius: 50%;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            border: 3px solid rgba(255, 255, 255, 0.5);
            box-shadow: inset -10px -10px 20px rgba(0, 100, 200, 0.3);
        }

        .face {
            position: absolute;
            width: 50px;
            height: 60px;
            background: #FDB99C;
            border-radius: 50%;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
        }

        .eye {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
            top: 22px;
            animation: blink 4s ease-in-out infinite;
        }

        .eye.left { left: 12px; }
        .eye.right { right: 12px; }

        @keyframes blink {
            0%, 48%, 52%, 100% { height: 8px; }
            50% { height: 2px; }
        }

        .smile {
            position: absolute;
            width: 25px;
            height: 15px;
            border: 2px solid #333;
            border-top: none;
            border-radius: 0 0 25px 25px;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            animation: laugh 2s ease-in-out infinite;
        }

        @keyframes laugh {
            0%, 100% { height: 15px; }
            50% { height: 18px; }
        }

        .suit {
            position: absolute;
            width: 120px;
            height: 140px;
            background: linear-gradient(180deg, #F0F0F0 0%, #D0D0D0 100%);
            border-radius: 20px;
            top: 95px;
            left: 50%;
            transform: translateX(-50%);
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        .flag {
            position: absolute;
            width: 25px;
            height: 18px;
            background: linear-gradient(90deg, #B22234 0%, #B22234 35%, #FFFFFF 35%, #FFFFFF 65%, #B22234 65%);
            top: 30px;
            left: 15px;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .pizza {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #FFA500;
            border-radius: 50%;
            bottom: 20px;
            right: 10px;
            animation: spin 5s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Table and dinner */
        .table {
            position: absolute;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            width: 70%;
            height: 50%;
            background: linear-gradient(180deg, #C19A6B 0%, #8B7355 100%);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .plate {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #FFFFFF 0%, #E8E8E8 100%);
            border-radius: 50%;
            border: 3px solid #D3D3D3;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .food {
            position: absolute;
            width: 60px;
            height: 50px;
            background: #FF6347;
            border-radius: 50% 50% 45% 45%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: inset -5px -5px 10px rgba(0, 0, 0, 0.2);
        }

        .plate1 { top: 20%; left: 15%; }
        .plate2 { top: 20%; right: 15%; }
        .plate3 { bottom: 25%; left: 20%; }
        .plate4 { bottom: 25%; right: 20%; }
        .plate5 { bottom: 10%; left: 50%; transform: translateX(-50%); }

        .glass {
            position: absolute;
            width: 30px;
            height: 50px;
            background: linear-gradient(180deg, rgba(255, 200, 100, 0.8) 0%, rgba(255, 180, 80, 0.9) 100%);
            border-radius: 0 0 10px 10px;
            box-shadow: inset -3px 0 8px rgba(255, 255, 255, 0.5);
        }

        .glass1 { top: 20%; left: 25%; }
        .glass2 { top: 20%; right: 25%; }

        /* Family members */
        .person {
            position: absolute;
            animation: chuckle 2s ease-in-out infinite;
        }

        @keyframes chuckle {
            0%, 100% { transform: scale(1) translateY(0); }
            25% { transform: scale(1.02) translateY(-2px); }
            50% { transform: scale(1) translateY(0); }
            75% { transform: scale(1.02) translateY(-2px); }
        }

        .head {
            width: 60px;
            height: 70px;
            background: #FDB99C;
            border-radius: 50%;
            position: relative;
            margin: 0 auto;
        }

        .person-eye {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #333;
            border-radius: 50%;
            top: 28px;
            animation: eyeBlink 3s ease-in-out infinite;
        }

        @keyframes eyeBlink {
            0%, 48%, 52%, 100% { height: 6px; }
            50% { height: 1px; }
        }

        .person-eye.left { left: 16px; }
        .person-eye.right { right: 16px; }

        .person-smile {
            position: absolute;
            width: 20px;
            height: 12px;
            border: 2px solid #333;
            border-top: none;
            border-radius: 0 0 20px 20px;
            bottom: 18px;
            left: 50%;
            transform: translateX(-50%);
        }

        .body {
            width: 80px;
            height: 100px;
            margin: 0 auto;
            border-radius: 10px;
        }

        .grandpa {
            bottom: 28%;
            left: 8%;
        }

        .name-tag {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 14px;
            font-weight: bold;
            color: #333;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            white-space: nowrap;
        }

        .astronaut-name {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 217, 255, 0.8);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 14px;
            font-weight: bold;
            color: white;
            box-shadow: 0 0 15px rgba(0, 217, 255, 0.6);
            white-space: nowrap;
            animation: hologramTextPulse 2s ease-in-out infinite;
        }

        @keyframes hologramTextPulse {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 1; }
        }

        .grandpa .head {
            background: #F5D4C1;
        }

        .beard {
            position: absolute;
            width: 50px;
            height: 40px;
            background: #E8E8E8;
            border-radius: 50%;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .glasses {
            position: absolute;
            width: 40px;
            height: 15px;
            border: 2px solid #333;
            border-radius: 10px;
            top: 25px;
            left: 50%;
            transform: translateX(-50%);
        }

        .grandpa .body {
            background: linear-gradient(180deg, #8B7355 0%, #654321 100%);
        }

        .grandma {
            bottom: 28%;
            left: 22%;
        }

        .grandma .body {
            background: linear-gradient(180deg, #E6C9A8 0%, #C9A88A 100%);
        }

        .hair {
            position: absolute;
            width: 65px;
            height: 40px;
            background: #8B7355;
            border-radius: 50% 50% 0 0;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .mom {
            bottom: 28%;
            right: 22%;
        }

        .mom .body {
            background: linear-gradient(180deg, #98D8C8 0%, #6FA89F 100%);
        }

        .mom .hair {
            background: #4A3728;
        }

        .dad {
            bottom: 28%;
            right: 8%;
        }

        .dad .body {
            background: linear-gradient(180deg, #7B9AB5 0%, #5A7A95 100%);
        }

        .dad .hair {
            background: #2C1810;
        }

        .kid {
            bottom: 32%;
            left: 50%;
            transform: translateX(-50%);
        }

        .kid .head {
            width: 50px;
            height: 60px;
        }

        .kid .body {
            width: 70px;
            height: 80px;
            background: linear-gradient(180deg, #4A7C59 0%, #3A6249 100%);
        }

        .kid .hair {
            width: 55px;
            height: 35px;
            background: #1A0F08;
        }

        /* Sparkles for hologram effect */
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00FFFF;
            border-radius: 50%;
            animation: sparkleAnim 2s ease-in-out infinite;
            box-shadow: 0 0 10px #00FFFF;
        }

        @keyframes sparkleAnim {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        .sparkle1 { top: 20%; left: 10%; animation-delay: 0s; }
        .sparkle2 { top: 40%; right: 15%; animation-delay: 0.5s; }
        .sparkle3 { bottom: 30%; left: 20%; animation-delay: 1s; }
        .sparkle4 { top: 60%; right: 10%; animation-delay: 1.5s; }

        /* Story button */
        .story-button {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #8B7355 0%, #A0826D 100%);
            color: white;
            border: 3px solid #654321;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .story-button:hover {
            background: linear-gradient(135deg, #A0826D 0%, #8B7355 100%);
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
        }

        .story-button:active {
            transform: translateX(-50%) scale(0.98);
        }

        /* The End button */
        .end-button {
            position: absolute;
            bottom: 5%;
            right: 5%;
            background: linear-gradient(135deg, #ff4757 0%, #ff3742 100%);
            color: white;
            border: 3px solid #c44569;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .end-button:hover {
            background: linear-gradient(135deg, #ff3742 0%, #ff2f43 100%);
            transform: scale(1.05);
            box-shadow: 0 12px 30px rgba(255, 71, 87, 0.4);
        }

        .end-button:active {
            transform: scale(0.98);
        }

        /* Story modal */
        .story-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .story-modal.active {
            display: flex;
        }

        .story-content {
            background: linear-gradient(135deg, #F5E6D3 0%, #E8D4C0 100%);
            padding: 40px;
            border-radius: 20px;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .story-content h2 {
            color: #654321;
            margin-bottom: 20px;
            font-size: 26px;
            text-align: center;
            border-bottom: 3px solid #8B7355;
            padding-bottom: 15px;
        }

        .story-content p {
            color: #333;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .story-content strong {
            color: #8B4513;
        }

        .close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #8B7355;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-button:hover {
            background: #654321;
            transform: rotate(90deg);
        }

        /* Progress bar */
        .progress-bar-real {
            width: 100vw;
            height: 18px;
            background: #242535;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 200;
            box-shadow: 0 7px 18px #FFD93D23;
        }

        .progress-bar-fill {
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #e046b7 5%, #FF2E63 65%, #FFD93D 95%);
            border-radius: 5px;
            box-shadow: 0 0 12px #FFD93D80;
        }

        /* Back button */
        .back-btn {
            position: absolute;
            top: 30px;
            left: 30px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.9);
            color: #8B7355;
            border: 2px solid #8B7355;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .back-btn::before {
            content: "← ";
            margin-right: 5px;
        }
        
        .back-btn:hover {
            background: #8B7355;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(139, 115, 85, 0.4);
        }
    </style>
</head>
<body>
    <div class="progress-bar-real">
        <div class="progress-bar-fill" id="progressbar"></div>
    </div>

    <div class="scene">
        <button class="back-btn" onclick="goBackToFamilyDinner()">Back</button>

        <!-- Chandelier -->
        <div class="chandelier">
            <div class="light-bulb"></div>
            <div class="light-bulb"></div>
            <div class="light-bulb"></div>
        </div>

        <!-- Window -->
        <div class="window"></div>

        <!-- Hologram -->
        <div class="hologram-container">
            <div class="hologram-screen">
                <div class="hologram-lines"></div>
                <div class="astronaut">
                    <div class="astronaut-name">Kiran</div>
                    <div class="helmet">
                        <div class="face">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="smile"></div>
                        </div>
                    </div>
                    <div class="suit">
                        <div class="flag"></div>
                        <div class="pizza"></div>
                    </div>
                </div>
                <div class="sparkle sparkle1"></div>
                <div class="sparkle sparkle2"></div>
                <div class="sparkle sparkle3"></div>
                <div class="sparkle sparkle4"></div>
            </div>
        </div>

        <!-- Table -->
        <div class="table">
            <!-- Plates with food -->
            <div class="plate plate1">
                <div class="food"></div>
            </div>
            <div class="plate plate2">
                <div class="food"></div>
            </div>
            <div class="plate plate3">
                <div class="food"></div>
            </div>
            <div class="plate plate4">
                <div class="food"></div>
            </div>
            <div class="plate plate5">
                <div class="food"></div>
            </div>

            <!-- Glasses -->
            <div class="glass glass1"></div>
            <div class="glass glass2"></div>
        </div>

        <!-- Family members -->
        <div class="person grandpa">
            <div class="head">
                <div class="hair" style="background: #E8E8E8;"></div>
                <div class="glasses"></div>
                <div class="person-eye left"></div>
                <div class="person-eye right"></div>
                <div class="person-smile"></div>
                <div class="beard"></div>
            </div>
            <div class="body"></div>
            <div class="name-tag">Grandfather Orbit</div>
        </div>

        <div class="person grandma">
            <div class="head">
                <div class="hair"></div>
                <div class="glasses"></div>
                <div class="person-eye left"></div>
                <div class="person-eye right"></div>
                <div class="person-smile"></div>
            </div>
            <div class="body"></div>
            <div class="name-tag">Professor Pixel</div>
        </div>

        <div class="person mom">
            <div class="head">
                <div class="hair"></div>
                <div class="person-eye left"></div>
                <div class="person-eye right"></div>
                <div class="person-smile"></div>
            </div>
            <div class="body"></div>
            <div class="name-tag">Captain Skywave</div>
        </div>

        <div class="person dad">
            <div class="head">
                <div class="hair"></div>
                <div class="person-eye left"></div>
                <div class="person-eye right"></div>
                <div class="person-smile"></div>
            </div>
            <div class="body"></div>
            <div class="name-tag">Grandmother</div>
        </div>

        <div class="person kid">
            <div class="head">
                <div class="hair"></div>
                <div class="person-eye left"></div>
                <div class="person-eye right"></div>
                <div class="person-smile"></div>
            </div>
            <div class="body"></div>
            <div class="name-tag">Ravi</div>
        </div>

        <!-- Story Button (Center) -->
        <button class="story-button" onclick="openStory()">
            ⭐ Hear Grandfather's Historical Space Weather Stories ⭐
        </button>

        <!-- The End Button (Bottom Right) -->
        <button class="end-button" onclick="goToEnd()">
            🌟 The End
        </button>

        <!-- Story Modal -->
        <div class="story-modal" id="storyModal">
            <div class="story-content">
                <button class="close-button" onclick="closeStory()">×</button>
                <h2>🌟 Grandfather Orbit's Space Weather Tales 🌟</h2>
                
                <p><strong>The Carrington Event (1859)</strong></p>
                <p>"Well," Grandfather Orbit began, his eyes twinkling with wisdom, "there was something called the Carrington Event back in 1859. It was the most powerful geomagnetic storm in recorded history! Telegraph wires sparked and caught fire, telegraph operators got electric shocks, and some telegraph systems worked even when they were disconnected from their power sources - the aurora provided enough electricity!"</p>
                
                <p>"Wow!" gasped Ravi.</p>
                
                <p><strong>The Quebec Blackout (1989)</strong></p>
                <p>"And more recently," Grandfather continued, "in March 1989, there was a solar storm that caused a massive blackout in Quebec, Canada. Six million people lost power for nine hours! The electrical grid couldn't handle the magnetic disturbances. Imagine - an entire province in darkness because of something that happened on the Sun, 93 million miles away!"</p>
                
                <p>Kiran's hologram nodded from space. "That's why we take space weather so seriously up here. Solar storms can be dangerous for astronauts and can damage our equipment."</p>
                
                <p>"The Quebec blackout happened because the solar storm created electrical currents in the ground that overwhelmed the power transformers," Grandfather explained. "It's like when my GPS tractor went haywire today, but much more serious. Hospitals had to use backup power, traffic lights stopped working, and people were stuck in elevators!"</p>
                
                <p><strong>The Lesson</strong></p>
                <p>"Did people get hurt?" Ravi asked with concern.</p>
                
                <p>"Fortunately, not many people were directly hurt," Grandfather replied, "but it showed everyone how much our modern world depends on technology that can be affected by space weather. That's why scientists now work very hard to predict solar storms, just like meteorologists predict regular weather!"</p>
                
                <p>Captain Skywave added, "And that's why we pilots train to navigate without GPS and radios, just in case. Today's solar flare was a good reminder of how important those backup skills are."</p>
            </div>
        </div>
    </div>

    <script src="/assets/js/main.js"></script>
    <script src="FamilyDinner.js"></script>
</body>
</html>
